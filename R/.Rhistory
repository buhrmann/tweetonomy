text(1:length(gsizes), par("usr")[1] - 0.2, labels=names(gsizes), srt=45, xpd=T, adj=c(1.0,1))
plot(gsizes, pch=20, xlab="", ylab="size", xaxt="n")
axis(1, at=1:length(gsizes), labels=FALSE)
text(1:length(gsizes), par("usr")[1] - 0.2, labels=names(gsizes), srt=45, xpd=T, adj=c(1.0,0.5))
plot(gsizes, pch=20, xlab="", ylab="size", xaxt="n")
axis(1, at=1:length(gsizes), labels=FALSE)
text(1:length(gsizes), par("usr")[1] - 0.2, labels=names(gsizes), srt=45, xpd=T, adj=c(1.0,0))
plot(gsizes, pch=20, xlab="", ylab="size", xaxt="n")
axis(1, at=1:length(gsizes), labels=FALSE)
text(1:length(gsizes), par("usr")[1] - 0.2, labels=names(gsizes), srt=45, xpd=T, adj=c(1.0,1))
plot(gsizes, pch=20, xlab="", ylab="size", xaxt="n")
axis(1, at=1:length(gsizes), labels=FALSE)
text(1:length(gsizes), par("usr")[1] - 0.25, labels=names(gsizes), srt=45, xpd=T, adj=c(1.0,1))
plot(gsizes, pch=20, xlab="", ylab="size", xaxt="n")
axis(1, at=1:length(gsizes), labels=FALSE)
text(1:length(gsizes), par("usr")[1] - 0.5, labels=names(gsizes), srt=45, xpd=T, adj=c(1.0,1))
plot(gsizes, pch=20, xlab="", ylab="size", xaxt="n")
axis(1, at=1:length(gsizes), labels=FALSE)
text(1:length(gsizes), par("usr")[1] - 10, labels=names(gsizes), srt=45, xpd=T, adj=c(1.0,1))
plot(gsizes, pch=20, xlab="", ylab="size", xaxt="n")
axis(1, at=1:length(gsizes), labels=FALSE)
text(1:length(gsizes), par("usr")[3] - 10, labels=names(gsizes), srt=45, xpd=T, adj=c(1.0,1))
plot(gsizes, pch=20, xlab="", ylab="size", xaxt="n")
axis(1, at=1:length(gsizes), labels=FALSE)
text(1:length(gsizes), 0, labels=names(gsizes), srt=45, xpd=T, adj=c(1.0,1))
plot(gsizes, pch=20, xlab="", ylab="size", xaxt="n")
axis(1, at=1:length(gsizes), labels=FALSE)
text(1:length(gsizes), -1, labels=names(gsizes), srt=45, xpd=T, adj=c(1.0,1))
plot(gsizes, pch=20, xlab="", ylab="size", xaxt="n")
axis(1, at=1:length(gsizes), labels=FALSE)
text(1:length(gsizes), -10, labels=names(gsizes), srt=45, xpd=T, adj=c(1.0,1))
plot(gsizes, pch=20, xlab="", ylab="size", xaxt="n")
axis(1, at=1:length(gsizes), labels=FALSE)
text(1:length(gsizes), -100, labels=names(gsizes), srt=45, xpd=T, adj=c(1.0,1))
plot(gsizes, log="y", pch=20, xlab="", ylab="size", xaxt="n")
axis(1, at=1:length(gsizes), labels=FALSE)
atx = axTicks(1)
atx
?axTicks
gdf = data.frame(name=names(gsizes), gsizes, row.names=NULL)
gdf
gdf = data.frame(name=names(gsizes), size=gsizes, row.names=NULL)
gdf
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity") = theme_minimal()
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity") + theme_minimal()
gdf$name = factor(gdf$name, levels=gdf[order(gdf$size), "name"])
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity") + theme_minimal()
gdf$name = factor(gdf$name, levels=gdf[-order(gdf$size), "name"])
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity") + theme_minimal()
gdf$name = factor(gdf$name, levels=gdf[-1*order(gdf$size), "name"])
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity") + theme_minimal()
?order
gdf$name = factor(gdf$name, levels=gdf[order(gdf$size, decr=T), "name"])
gdf$name = factor(gdf$name, levels=gdf[base::order(gdf$size, decr=T), "name"])
gdf$name = factor(gdf$name, levels=gdf[base::order(gdf$size, decreasing=T), "name"])
gdf$name = factor(gdf$name, levels=gdf[order(gdf$size, decreasing=T), "name"])
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity") + theme_minimal()
gdf = data.frame(name=names(gsizes), size=gsizes, row.names=NULL)
gdf$name = factor(gdf$name, levels=gdf[order(gdf$size, decreasing=T), "name"])
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity") + theme_minimal()
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity") +
scale_y_log10() + theme_minimal()
ggplot(gdf, aes(x=name, y=size, size=1)) + geom_point(stat="identity") +
scale_y_log10() + theme_minimal()
ggplot(gdf, aes(x=name, y=size, size=1)) + geom_point(stat="identity") +
scale_y_log10() + theme_minimal() + geom_linerange(aes(x=name, ymin=0, ymax=size))
ggplot(gdf, aes(x=name, y=size, size=1)) + geom_point(stat="identity") +
scale_y_log10() + theme_minimal() + geom_linerange(aes(x=name, ymin=0, ymax=size, size=0.1))
ggplot(gdf, aes(x=name, y=size, size=0.5)) + geom_point(stat="identity") +
scale_y_log10() + theme_minimal() + geom_linerange(aes(x=name, ymin=0, ymax=size, size=0.1))
ggplot(gdf, aes(x=name, y=size, size=0.5)) + geom_point(stat="identity") +
scale_y_log10() + theme_minimal() + geom_linerange(aes(x=name, ymin=0, ymax=size, size=0.05))
ggplot(gdf, aes(x=name, y=size, size=0.5)) + geom_point(stat="identity") +
scale_y_log10() + theme_minimal() + geom_linerange(aes(x=name, ymin=0, ymax=size, width=0.05))
ggplot(gdf, aes(x=name, y=size, size=0.5)) + geom_point(stat="identity") +
scale_y_log10() + theme_minimal() + geom_linerange(aes(x=name, ymin=0, ymax=size, size=0.01))
ggplot(gdf, aes(x=name, y=size, size=0.1)) + geom_point(stat="identity") +
scale_y_log10() + theme_minimal() + geom_linerange(aes(x=name, ymin=0, ymax=size, size=0.01))
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", aes(size=0.1)) +
scale_y_log10() + theme_minimal() + geom_linerange(aes(x=name, ymin=0, ymax=size, size=0.01))
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", aes(size=0.01)) +
scale_y_log10() + theme_minimal() + geom_linerange(aes(x=name, ymin=0, ymax=size, size=0.01))
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", aes(size=0.05)) +
scale_y_log10() + theme_minimal() + geom_linerange(aes(x=name, ymin=0, ymax=size, size=0.01))
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", aes(size=0.05)) +
scale_y_log10() + theme_minimal() + geom_linerange(aes(x=name, ymin=0, ymax=size, size=0.01)) +
opts(legend.position="none")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", aes(size=0.05)) +
scale_y_log10() + theme_minimal() + geom_linerange(aes(x=name, ymin=0, ymax=size, size=0.01)) +
theme(legend.position="none")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", aes(size=0.05)) +
geom_linerange(aes(x=name, ymin=0, ymax=size, size=0.01)) +
scale_y_log10() + theme_minimal() +
theme(legend.position="none")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", aes(size=0.05)) +
geom_linerange(aes(x=name, ymin=0, ymax=size, size=0.01)) +
scale_y_log10() + theme_minimal() +
theme(legend.position="none") + xlab("")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", aes(size=0.05)) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
scale_y_log10() + theme_minimal() +
theme(legend.position="none") + xlab("")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity") +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
scale_y_log10() + theme_minimal() +
theme(legend.position="none") + xlab("")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=0.5) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
scale_y_log10() + theme_minimal() +
theme(legend.position="none") + xlab("")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=1.5) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
scale_y_log10() + theme_minimal() +
theme(legend.position="none") + xlab("")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=2) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
scale_y_log10() + theme_minimal() +
theme(legend.position="none") + xlab("")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=4) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
scale_y_log10() + theme_minimal() +
theme(legend.position="none") + xlab("")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
scale_y_log10() + theme_minimal() +
theme(legend.position="none") + xlab("")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
scale_y_log10() + theme_minimal() +
theme(legend.position="none", axis.text.x=element_text(size=rel(2))) + xlab("")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
scale_y_log10() + theme_minimal() +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("")
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("") +
theme_minimal() +
scale_y_log10()
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("") +
theme_minimal()
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("") +
theme_minimal() #+
#scale_y_log10()
vertex_attribs(g, names(head(sort(degree(g, which(V(g)$aff=='unknown')), decr=T), 10)) )
table(V(g)[which(V(g)$aff=='unknown')]$com)
sort(table(V(g)[which(V(g)$aff=='unknown')]$com), decr=T)
important_actors_to_df(important_actors_by_com(g, topn=10, centrality="pgrank", grp_by="aff"))
neighbour_affiliations(g, "el_pais", grp_by="aff", mode="all")
neighbour_affiliations(g, "el_pais", grp_by="com", mode="all")
degree(g, "el_pais")
75+48+37+15+8+7+2+1+1
vertex_attribs(g, "el_pais")
important_actors_to_df(important_actors_by_com(g, topn=10, centrality="indeg", grp_by="aff"))
important_actors_to_df(important_actors_by_com(g, topn=10, centrality="outdeg", grp_by="aff"))
important_actors_to_df(important_actors_by_com(g, topn=10, centrality="deg", grp_by="aff"))
important_actors_to_df(important_actors_by_com(g, topn=10, centrality="degree", grp_by="aff"))
lapply(media, function(x) vertex_attr(g, "aff", x))
media = c("el_pais", "ElHuffPost", "m_pais", "publico_es", "eldiarioes",
"SextaNocheTV", "europapress", "EPNacional", "voz_populi", "el_jueves")
lapply(media, function(x) vertex_attr(g, "aff", x))
vertex_attr(g, "aff", "el_pais")
vertex_attr(g, "aff", "ElHuffPost")
vertex_attr(g, "aff", "m_pais")
vertex_attr(G, "aff", "m_pais")
G = global_graph(ggraph_fnm, total_edgelist_fnm, community_algo)
vertex_attr(G, "aff", "m_pais")
vertex_attr(G, "aff", "el_pais")
vertex_attr(G, "aff", "ElHuffPost")
vertex_attr(G, "aff", "publico_es")
vertex_attr(g, "aff", "publico_es")
vertex_attr(g, "aff", "eldiarioes")
vertex_attr(G, "aff", "eldiarioes")
vertex_attr(G, "aff", "SextaNocheTV")
vertex_attr(g, "aff", "SextaNocheTV")
vertex_attr(g, "aff", "europapress")
vertex_attr(g, "aff", "EPNacional")
vertex_attr(g, "aff", "voz_populi")
vertex_attr(g, "aff", "el_jueves")
vertex_attr(G, "aff", "el_jueves")
vertex_attr(G, "aff", "eljueves")
vertex_attr(g, "aff", "eljueves")
lapply(media, function(x) vertex_attr(g, "aff", x))
media = c("el_pais", "ElHuffPost", "publico_es", "eldiarioes",
"SextaNocheTV", "europapress", "EPNacional", "voz_populi", "eljueves")
lapply(media, function(x) vertex_attr(g, "aff", x))
sapply(media, function(x) vertex_attr(g, "aff", x))
sapply(media, function(x) degree(g, x))
lapply(media, function(x) degree(g, x))
slapply(media, function(x) degree(g, x), ROW.NAMES=F)
sapply(media, function(x) degree(g, x), ROW.NAMES=F)
?sapply
sapply(media, function(x) degree(g, x), USE.NAMES=F)
media = sapply(media, function(x) degree(g, x), USE.NAMES=F)
media
sapply(media, function(x) vertex_attr(g, "aff", x))
sapply(as.vector(media), function(x) vertex_attr(g, "aff", x))
sapply(names(media), function(x) vertex_attr(g, "aff", x))
neighbour_affiliations(g, "el_pais", grp_by="aff", mode="in")
gsizes
neighbour_affiliations(g, "el_pais", grp_by="aff", mode="in")
neighbour_affiliations(g, "SextaNocheTV", grp_by="aff", mode="in")
neighbour_affiliations(g, "europapress", grp_by="aff", mode="in")
neighbour_affiliations(g, "EPNacional", grp_by="aff", mode="in")
neighbour_affiliations(g, "voz_populi", grp_by="aff", mode="in")
neighbour_affiliations(g, "publico_es", grp_by="aff", mode="in")
t=neighbour_affiliations(g, "publico_es", grp_by="aff", mode="in")
class(t)
names(t)
group_sizes["podemos"]
gsizes["podemos"]
gsizes[c("podemos", "iu")]
gsizes[names(t)]
t / gsizes(names(t))
t / gsize[names(t)]
t / gsizes[names(t)]
t / (gsizes[names(t)] / max(gsizes[names(t)]))
t * (gsizes[names(t)] / max(gsizes[names(t)]))
t / (gsizes[names(t)] / max(gsizes[names(t)]))
(gsizes[names(t)] / max(gsizes[names(t)]))
t / max(t) / (gsizes[names(t)] / max(gsizes[names(t)]))
sort(t / max(t) / (gsizes[names(t)] / max(gsizes[names(t)])))
sort(t / max(t) / (gsizes[names(t)] / max(gsizes[names(t)])), decr=T)
rel_aff = function(g, node_name, grp_by="aff") {
node_aff = neighbour_affiliations(g, node_name, grp_by=grp_by, mode="in")
gsizes = group_sizes(g, grp_by)
gsizes_rel = gsizes[names(node_aff)] / max(gsizes[names(node_aff)]))
aff_rel = node_aff / (max(node_aff) * gsizes_rel)
sort(aff_rel, decr=T)
}
rel_aff = function(g, node_name, grp_by="aff") {
node_aff = neighbour_affiliations(g, node_name, grp_by=grp_by, mode="in")
gsizes = group_sizes(g, grp_by)
gsizes_rel = gsizes[names(node_aff)] / max(gsizes[names(node_aff)])
aff_rel = node_aff / (max(node_aff) * gsizes_rel)
sort(aff_rel, decr=T)
}
rel_aff(g, "el_pais", grp_by="aff")
lapply(media, function(x) rel_aff(g, x, grp_by="aff"))
apply(media, function(x) rel_aff(g, x, grp_by="aff"))
apply(media, FUN=function(x) rel_aff(g, x, grp_by="aff"))
apply(media, 1, FUN=function(x) rel_aff(g, x, grp_by="aff"))
?apply
FUN
lapply(media, function(x) rel_aff(g, x, grp_by="aff"))
?lapply
lapply(media, FUN=function(x) rel_aff(g, x, grp_by="aff"))
lapply(media, function(x) rel_aff(g, x, grp_by="aff"), simplify=F)
lapply(media, function(x) { rel_aff(g, x, grp_by="aff")}, simplify=F)
sapply(media, function(x) { rel_aff(g, x, grp_by="aff")}, simplify=F)
rel_aff(g, "el_pais", grp_by="aff")
lapply(names(media), function(x) { rel_aff(g, x, grp_by="aff")})
sapply(names(media), function(x) { rel_aff(g, x, grp_by="aff")})
sapply(names(media), function(x) vertex_attr(g, "aff", x))
node_aff = neighbour_affiliations(g, "node_name"ElHuffPost, grp_by="aff", mode="in")
node_aff = neighbour_affiliations(g, "ElHuffPost", grp_by="aff", mode="in")
node_aff
node_aff / max(node_aff)
gsizes_rel = gsizes[names(node_aff)] / max(gsizes[names(node_aff)])
gsizes_rel
node_aff / max(node_aff)
node_aff / max(node_aff) / gsizes_rel
node_aff / (max(node_aff) * gsizes_rel)
0.1/0.6
6 / (10 * 0.1)
10 / (10 * 1)
sapply(names(media), function(x) { rel_aff(g, x, grp_by="aff")})
process_ggraph = function() {
G = global_graph(ggraph_fnm, total_edgelist_fnm, community_algo)
G = G %>%
simplify(edge.attr.comb=list(weight="sum")) %>%
filter_min_weight(min_w=1) %>%
filter_topn_components(topn=1, mode="weak") %>%
filter_isolates()
}
g = process_ggraph()
vcount(g)
ecount(g)
gsizes = group_sizes(g, "aff")
gsizes
gdf = data.frame(name=names(gsizes), size=gsizes, row.names=NULL)
gdf$name = factor(gdf$name, levels=gdf[order(gdf$size, decreasing=T), "name"])
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("") +
theme_minimal() #+
#scale_y_log10()
process_ggraph = function() {
G = global_graph(ggraph_fnm, total_edgelist_fnm, community_algo)
G = G %>%
simplify(edge.attr.comb=list(weight="sum")) %>%
filter_min_weight(min_w=2) %>%
filter_topn_components(topn=1, mode="weak") %>%
filter_isolates()
}
g = process_ggraph()
# Group sizes
gsizes = group_sizes(g, "aff")
gdf = data.frame(name=names(gsizes), size=gsizes, row.names=NULL)
gdf$name = factor(gdf$name, levels=gdf[order(gdf$size, decreasing=T), "name"])
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("") +
theme_minimal() #+
#scale_y_log10()
process_ggraph = function() {
G = global_graph(ggraph_fnm, total_edgelist_fnm, community_algo)
G = G %>%
simplify(edge.attr.comb=list(weight="sum")) %>%
filter_min_weight(min_w=1) %>%
filter_topn_components(topn=1, mode="weak") %>%
filter_isolates()
}
g = process_ggraph()
# Group sizes
gsizes = group_sizes(g, "aff")
gdf = data.frame(name=names(gsizes), size=gsizes, row.names=NULL)
gdf$name = factor(gdf$name, levels=gdf[order(gdf$size, decreasing=T), "name"])
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("") +
theme_minimal() #+
#scale_y_log10()
vertex_attribs(g, names(head(sort(degree(g, which(V(g)$aff=='unknown')), decr=T), 10)) )
sort(table(V(g)[which(V(g)$aff=='unknown')]$com), decr=T)
head(sort(table(V(g)[which(V(g)$aff=='unknown')]$com), decr=T), 20)
important_actors_to_df(important_actors_by_com(g, topn=10, centrality="pgrank", grp_by="aff"))
media = sapply(media, function(x) degree(g, x), USE.NAMES=F)
media
media = c("el_pais", "ElHuffPost", "publico_es", "eldiarioes",
"SextaNocheTV", "europapress", "EPNacional", "voz_populi", "eljueves")
# Degree of media
media = sapply(media, function(x) degree(g, x), USE.NAMES=F)
media
media = sort(sapply(media, function(x) degree(g, x), USE.NAMES=F), decr=T)
media_names = c("el_pais", "ElHuffPost", "publico_es", "eldiarioes",
"SextaNocheTV", "europapress", "EPNacional", "voz_populi", "eljueves")
# Degree of media
media = sort(sapply(media, function(x) degree(g, x), USE.NAMES=F), decr=T)
media
media_names = c("el_pais", "ElHuffPost", "publico_es", "eldiarioes",
"SextaNocheTV", "europapress", "EPNacional", "voz_populi", "eljueves")
# Degree of media
media = sort(sapply(media_names, function(x) degree(g, x), USE.NAMES=F), decr=T)
media
sapply(names(media), function(x) vertex_attr(g, "aff", x))
sapply(names(media), function(x) { rel_aff(g, x, grp_by="aff")})
sapply(names(media), function(x) vertex_attr(g, "aff", x))
sapply(names(media), function(x) vertex_attr(g, "aff", x))
med_aff = sapply(names(media), function(x) vertex_attr(g, "aff", x))
xtable(med_aff)
library(xtable)
xtable(med_aff)
?xtable
methods(xtable)
table(med_aff)
med_aff
data.frame(med_aff)
xtable(data.frame(med_aff))
print(xtable(data.frame(med_aff)), type="html")
print.data.frame(data.frame(med_aff))
sapply(names(media), function(x) { rel_aff(g, x, grp_by="aff")})
sapply(names(media), function(x) { rel_aff(g, x, grp_by="aff")})
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.5))) + xlab("") +
theme_minimal()
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme(legend.position="none", axis.text.x=element_text(size=rel(2))) + xlab("") +
theme_minimal()
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme(legend.position="none", axis.text.x=element_text(size=rel(2))) + xlab("tst") +
theme_minimal() #+
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme(legend.position="none", axis.text.x=element_text(size=rel(1))) + xlab("tst") +
theme_minimal() #+
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme_minimal() +
theme(legend.position="none", axis.text.x=element_text(size=rel(1))) + xlab("") #+
#scale_y_log10()
ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme_minimal() +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("") #+
#scale_y_log10()
vcount(g)
rcount(g)
ecount(g)
start = Sys.time()
cliqs = clique_community_faster(g, 3)
group_sizes(G)
group_sizes(G, grp_by="com")
group_sizes(G, grp_by="aff")
tmp=36166+17234+14530+111522+11038+10170+2470+1436
tmp
vcount(g)
vcount(G)
tmp=36166+17234+14530+11522+11038+10170+2470+1436
tmp
vcount(G)-tmp
vertex_attr(g, "aff", "abc")
vertex_attr(g, "aff", "abc_es")
degree(g, "abc_es")
media
rel_aff(g, "abc_es")
"x" %in% "text"
?find
?substr
?grep
grep(x, "text", fixed=T)
grep("x", "text", fixed=T)
grep("y", "text", fixed=T)
grepl("y", "text", fixed=T)
grepl("x", "text", fixed=T)
grepl("y", "text")
grepl("x", "text")
plot_group_sizes(g, grp_by="aff", log_scale=NULL) {
gsizes = group_sizes(g, grp_by=grp_by)
gdf = data.frame(name=names(gsizes), size=gsizes, row.names=NULL)
gdf$name = factor(gdf$name, levels=gdf[order(gdf$size, decreasing=T), "name"])
p = ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme_minimal() +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("")
if (grepl("x", log_scale))
p = p + scale_x_log10()
if (grepl("y", log_scale))
p = p + scale_y_log10()
p
}
plot_group_sizes(g, grp_by="aff", log_scale=NULL) {
gsizes = group_sizes(g, grp_by=grp_by)
gdf = data.frame(name=names(gsizes), size=gsizes, row.names=NULL)
gdf$name = factor(gdf$name, levels=gdf[order(gdf$size, decreasing=T), "name"])
p = ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme_minimal() +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("")
if (grepl("x", log_scale))
p = p + scale_x_log10()
if (grepl("y", log_scale))
p = p + scale_y_log10()
p
}
plot_group_sizes = function(g, grp_by="aff", log_scale=NULL) {
gsizes = group_sizes(g, grp_by=grp_by)
gdf = data.frame(name=names(gsizes), size=gsizes, row.names=NULL)
gdf$name = factor(gdf$name, levels=gdf[order(gdf$size, decreasing=T), "name"])
p = ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme_minimal() +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("")
if (grepl("x", log_scale))
p = p + scale_x_log10()
if (grepl("y", log_scale))
p = p + scale_y_log10()
p
}
plot_group_sizes(g, grp_by="com", log_scale='x')
plot_group_sizes(g, grp_by="com", log_scale='y')
grp_by="com"
gsizes = group_sizes(g, grp_by=grp_by)
gdf = data.frame(name=names(gsizes), size=gsizes, row.names=NULL)
gdf$name = factor(gdf$name, levels=gdf[order(gdf$size, decreasing=T), "name"])
p = ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme_minimal() +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("")
gdf
gsizes
plot_group_sizes = function(g, grp_by="aff", log_scale=NULL, topn=10) {
gsizes = head(group_sizes(g, grp_by=grp_by), topn)
gdf = data.frame(name=names(gsizes), size=gsizes, row.names=NULL)
gdf$name = factor(gdf$name, levels=gdf[order(gdf$size, decreasing=T), "name"])
p = ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme_minimal() +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("")
if (grepl("x", log_scale))
p = p + scale_x_log10()
if (grepl("y", log_scale))
p = p + scale_y_log10()
p
}
plot_group_sizes(g, grp_by="com", log_scale='y')
gsizes = head(group_sizes(g, grp_by=grp_by), topn)
topn=10
gsizes = head(group_sizes(g, grp_by=grp_by), topn)
gsizes
gdf = data.frame(name=names(gsizes), size=gsizes, row.names=NULL)
gdf$name = factor(gdf$name, levels=gdf[order(gdf$size, decreasing=T), "name"])
gdf
p = ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme_minimal() +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("")
p
dev.off()
p = ggplot(gdf, aes(x=name, y=size)) + geom_point(stat="identity", size=3) +
geom_linerange(aes(x=name, ymin=0, ymax=size), width=0.1) +
theme_minimal() +
theme(legend.position="none", axis.text.x=element_text(size=rel(1.25))) + xlab("")
p
