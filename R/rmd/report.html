<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Thomas Buhrmann, Ezequiel Di Paolo (report auto-generated 2015-11-19)" />


<title>Ideological twitter communities</title>

<script src="report_files/jquery-1.11.1/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="report_files/bootstrap-3.3.1/css/united.min.css" rel="stylesheet" />
<script src="report_files/bootstrap-3.3.1/js/bootstrap.min.js"></script>
<script src="report_files/bootstrap-3.3.1/shim/html5shiv.min.js"></script>
<script src="report_files/bootstrap-3.3.1/shim/respond.min.js"></script>
<script src="report_files/htmlwidgets-0.5/htmlwidgets.js"></script>
<script src="report_files/datatables-binding-0.1/datatables.js"></script>
<script src="report_files/datatables-1.10.7/jquery.dataTables.min.js"></script>
<link href="report_files/datatables-bootstrap-1.10.7/dataTables.bootstrap.css" rel="stylesheet" />
<link href="report_files/datatables-bootstrap-1.10.7/dataTables.extra.css" rel="stylesheet" />
<script src="report_files/datatables-bootstrap-1.10.7/dataTables.bootstrap.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="report_files/highlight/default.css"
      type="text/css" />
<script src="report_files/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>


<link rel="stylesheet" href="style-custom.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img { 
  max-width:100%; 
  height: auto; 
}
</style>
<div class="container-fluid main-container">


<div id="header">
<h1 class="title">Ideological twitter communities</h1>
<h4 class="author"><em>Thomas Buhrmann, Ezequiel Di Paolo (report auto-generated 2015-11-19)</em></h4>
</div>

<div id="TOC">
<ul>
<li><a href="#pipeline-overview"><span class="toc-section-number">1</span> Pipeline overview</a></li>
<li><a href="#network-level-analysis"><span class="toc-section-number">2</span> Network level analysis</a><ul>
<li><a href="#tweet-frequency-and-volume"><span class="toc-section-number">2.1</span> Tweet frequency and volume</a></li>
<li><a href="#descriptive-statistics"><span class="toc-section-number">2.2</span> Descriptive statistics</a></li>
<li><a href="#graph"><span class="toc-section-number">2.3</span> Graph</a></li>
</ul></li>
<li><a href="#community-level"><span class="toc-section-number">3</span> Community level</a><ul>
<li><a href="#community-coherence-and-interaction"><span class="toc-section-number">3.1</span> Community coherence and interaction</a></li>
<li><a href="#comparison-of-communities"><span class="toc-section-number">3.2</span> Comparison of communities</a></li>
<li><a href="#graph-1"><span class="toc-section-number">3.3</span> Graph</a></li>
</ul></li>
<li><a href="#hashtag-level"><span class="toc-section-number">4</span> Hashtag level</a></li>
</ul>
</div>

<p>This document gathers and illustrates work on a <a href="https://github.com/buhrmann/tweetonomy">set of tools</a> for analyzing twitter communities and their interaction, built with <a href="https://hadoop.apache.org">hadoop</a> and <a href="https://www.rstudio.com/">R</a>. The report is auto-generated by using scripts that first aggregate data in hadoop, and then invokes R tools that compile the markdown for this document while incorporating statistics, figures and tables generated from the date. The scripts are <a href="https://github.com/buhrmann/tweetonomy/tree/master/hive/hql">here</a>, and the markdown source for this report <a href="https://github.com/buhrmann/tweetonomy/blob/master/hive/hql/export-all-r.sh">here</a>.</p>
<div id="pipeline-overview" class="section level1">
<h1><span class="header-section-number">1</span> Pipeline overview</h1>
<p>Data is gathered by using twitter’s public <a href="https://dev.twitter.com/streaming/overview">streaming API endpoint</a> to extract tweets related to Spanish political parties. A <a href="https://flume.apache.org">Flume</a> agent with a <a href="http://twitter4j.org">Twitter4j</a> source is used to funnel data received from Twitter’s API onto disk. The <a href="https://github.com/buhrmann/cdh-twitter-example/tree/master/flume-sources/src/main/java/com/cloudera/flume/source">custom Flume source</a> can be configured to <a href="https://dev.twitter.com/streaming/overview/request-parameters#follow">follow</a> a number of users, <a href="https://dev.twitter.com/streaming/overview/request-parameters#track">track</a> a number of phrases, and to filter tweets by <a href="https://dev.twitter.com/streaming/overview/request-parameters#language">language</a>. An example configuration of the agent can be found <a href="https://github.com/buhrmann/tweetonomy/blob/master/flume/twitter-parties.conf">here</a>. Note that twitter account ids (instead of names) have to be used to follow users. The current strategy collects all tweets that originate in the official accounts of the major political parties as well as their official leaders and spokespersons, or which mention any of these accounts. In addition a number of keywords related to the elections are tracked. The result is filtered to only include tweets in Spanish.</p>
<p>The resulting tweets are stored on a distributed file system (<a href="https://en.wikipedia.org/wiki/Apache_Hadoop#Hadoop_distributed_file_system">hdfs</a>) as raw json files. They are arranged in daily folders, with individual files containing a roughly equal number of tweets. <a href="https://hive.apache.org">Hive</a> provides an <a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual">SQL-like</a> view on these json files, with Hive tables being partitioned by day also. Various <a href="https://github.com/buhrmann/tweetonomy/tree/master/hive/hql">hql scripts</a> export daily edge-lists for mentions and retweets and other aggregated summaries into local text files.</p>
<p>A number of different graphs, and tables can then be generated from the local data and inspected using the <a href="https://github.com/buhrmann/tweetonomy/tree/master/R">R tools</a>. Graphs are distinguished by layer (retweet, mentions or both combined) and version (e.g. one for the period of the catalan elections and one for the general elections). Graphs are also locally cached as R data files, so they don’t have to be re-created for each analysis (unless new data needs to be incorporated).</p>
</div>
<div id="network-level-analysis" class="section level1">
<h1><span class="header-section-number">2</span> Network level analysis</h1>
<p>Each graph layer consists of vertices representing twitter accounts. Edges between those vertices capture the number of times a user A has retweeted another user B (in the retweet layer R), or how many times A has ‘mentioned’ B (in the mention layer M). First we will look at some overall statistics for the different graph layers.</p>
<p>In the following sections we’ll use tweets from the catalunya election period as an example.</p>
<div id="tweet-frequency-and-volume" class="section level2">
<h2><span class="header-section-number">2.1</span> Tweet frequency and volume</h2>
<p>We start off by looking at the volume and frequency of tweets using an hql script that aggregates the number of tweets per hour. In total, for the <strong>catalunya</strong> version of the graph, we have <strong>3.228.346</strong> tweets in the period between <strong>04-08-2015</strong> and <strong>07-10-2015</strong> (<strong>65 days</strong>).</p>
<p>For a more detailed view we can look at tweet frequencies over time, at different levels of resolution:</p>
<p><img src="report_files/figure-html/freqs_out-1.svg" title="" alt="" style="display: block; margin: auto;" /></p>
<p>On the left tweets counts are shown aggregated by day and for the complete period. On the right an hourly count is shown for a single week.</p>
</div>
<div id="descriptive-statistics" class="section level2">
<h2><span class="header-section-number">2.2</span> Descriptive statistics</h2>
<p>The following tables provide information about very general statistics of the three graph layers before and after basic preprocessing. The preprocessing consists in simplification of edges (collapsing parallel edges by summing their weights), filtering out edges with weights below some threshold (here 1 is selected, so no filtering), and by filtering out nodes not belonging to the largest (weakly) connected component (this removes nodes which …). Lastly, stray nodes resulting from the filtering (those not connected to any other) are removed too.</p>
<p><div id="htmlwidget-3377" style="width:100%;height:auto;" class="datatables"></div>
<script type="application/json" data-for="htmlwidget-3377">{"x":{"data":[["retweet","mention","combined"],[231675,288214,289089],[1138893,2413155,2424425],[2248769,6115672,8394655],[1.97452175050685,2.53430550461947,3.46253441537684],[227463,285495,286356],[84,119,119]],"container":"<table class=\"table table-striped table-hover table-condensed\">\n  <thead>\n    <tr>\n      <th> </th>\n      <th>vertex count</th>\n      <th>edge count</th>\n      <th>tweets</th>\n      <th>avg weight</th>\n      <th>max comp size</th>\n      <th>max coreness</th>\n    </tr>\n  </thead>\n</table>","options":{"info":false,"page_length":10,"paging":false,"autowidth":false,"searching":false,"ordering":false,"lengthChange":false,"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}],"rowCallback":"function(row, data) {\nvar d = parseFloat(data[1]); $(this.api().cell(row, 1).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[2]); $(this.api().cell(row, 2).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[3]); $(this.api().cell(row, 3).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[4]); $(this.api().cell(row, 4).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[5]); $(this.api().cell(row, 5).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[6]); $(this.api().cell(row, 6).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\n}"},"callback":null,"caption":"<caption>Raw graph</caption>","filter":"none","style":"bootstrap"},"evals":["options.rowCallback"]}</script><div id="htmlwidget-1757" style="width:100%;height:auto;" class="datatables"></div>
<script type="application/json" data-for="htmlwidget-1757">{"x":{"data":[["retweet","mention","combined"],[227463,285495,286356],[1136365,2411432,2422694],[2246056,6113553,8391559],[1.97652690816771,2.5352375683826,3.46373045873726],[227463,285495,286356],[84,119,119]],"container":"<table class=\"table table-striped table-hover table-condensed\">\n  <thead>\n    <tr>\n      <th> </th>\n      <th>vertex count</th>\n      <th>edge count</th>\n      <th>tweets</th>\n      <th>avg weight</th>\n      <th>max comp size</th>\n      <th>max coreness</th>\n    </tr>\n  </thead>\n</table>","options":{"info":false,"page_length":10,"paging":false,"autowidth":false,"searching":false,"ordering":false,"lengthChange":false,"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}],"rowCallback":"function(row, data) {\nvar d = parseFloat(data[1]); $(this.api().cell(row, 1).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[2]); $(this.api().cell(row, 2).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[3]); $(this.api().cell(row, 3).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[4]); $(this.api().cell(row, 4).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[5]); $(this.api().cell(row, 5).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[6]); $(this.api().cell(row, 6).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\n}"},"callback":null,"caption":"<caption>Minimally preprocessed graph</caption>","filter":"none","style":"bootstrap"},"evals":["options.rowCallback"]}</script></p>
<p>Note that the total number of tweets from the previous section (3.228.346), is not identical to the sum of retweet and mention edges or tweets. This is because retweets and mentions are not mutually exclusive. Retweets, for example, can also mention both the retweeted as well as other accounts. Equally a tweet may mention one or more accounts without being a retweet. As a result, the number of retweets only may be smaller than the total number of all tweets, as there will likely be mentions that are not retweets. On the other hand, the number of mentions may actually be greater than the actual total of tweets (e.g. if the average number of mentions per tweet is greater than 1). Also note that for the combined layer, the <em>weights</em> of edges (#tweets) between identical pairs of accounts in the retweet and mention layers are simply added, so the corresponding “tweet” numbers do add up. In contrast, the combined <em>number</em> of edges corresponds to the union of edges in both layers, so the number of edges do not necessarily add up. One may layer may in fact be a subset of the other. E.g. in most cases it seems that if one user has retweeted another, then they will also have mention that other user. The converse is not generally true. Many users seem to mention others without ever retweeting them. As a result the set of connections formed by mentions may already contain all retweet connections, but not the other way round.</p>
<p>Next we can plot the edge weight and node degree distributions of the (preprocessed) retweet layer:</p>
<img src="report_files/figure-html/basic_dist-1.svg" title="" alt="" style="display: block; margin: auto;" />
<p class="caption">
Figure: Log-log plots of network weight and degree distribution.
</p>
<p>It’s is clear that both distributions follow a power law (as common in small-world networks, for example).</p>
<p>We can also find various node-centrality (importance) measures. E.g. here are the 5 most central twitter accounts with respect to in-degree (number of retweeters) and page-rank for the retweet layer:</p>
<p><div id="htmlwidget-7560" style="width:100%;height:auto;" class="datatables"></div>
<script type="application/json" data-for="htmlwidget-7560">{"x":{"data":[[26942],[24959],[15087],[13297],[12308]],"container":"<table class=\"table table-striped\">\n  <thead>\n    <tr>\n      <th>ahorapodemos</th>\n      <th>Pablo_Iglesias_</th>\n      <th>Albert_Rivera</th>\n      <th>ierrejon</th>\n      <th>CiudadanosCs</th>\n    </tr>\n  </thead>\n</table>","options":{"info":false,"page_length":10,"paging":false,"autowidth":true,"searching":false,"ordering":false,"lengthChange":false,"columnDefs":[{"className":"dt-right","targets":[0,1,2,3,4]}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nvar d = parseFloat(data[0]); $(this.api().cell(row, 0).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[1]); $(this.api().cell(row, 1).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[2]); $(this.api().cell(row, 2).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[3]); $(this.api().cell(row, 3).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[4]); $(this.api().cell(row, 4).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\n}"},"callback":null,"caption":"<caption>indeg</caption>","filter":"none","style":"bootstrap"},"evals":["options.rowCallback"]}</script><div id="htmlwidget-6147" style="width:100%;height:auto;" class="datatables"></div>
<script type="application/json" data-for="htmlwidget-6147">{"x":{"data":[[0.0538953710306582],[0.0256907074258144],[0.0196088055068538],[0.0174278422659589],[0.0173893680474408]],"container":"<table class=\"table table-striped\">\n  <thead>\n    <tr>\n      <th>ahorapodemos</th>\n      <th>Pablo_Iglesias_</th>\n      <th>CiudadanosCs</th>\n      <th>PPopular</th>\n      <th>marianorajoy</th>\n    </tr>\n  </thead>\n</table>","options":{"info":false,"page_length":10,"paging":false,"autowidth":true,"searching":false,"ordering":false,"lengthChange":false,"columnDefs":[{"className":"dt-right","targets":[0,1,2,3,4]}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nvar d = parseFloat(data[0]); $(this.api().cell(row, 0).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[1]); $(this.api().cell(row, 1).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[2]); $(this.api().cell(row, 2).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[3]); $(this.api().cell(row, 3).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[4]); $(this.api().cell(row, 4).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\n}"},"callback":null,"caption":"<caption>pgrank</caption>","filter":"none","style":"bootstrap"},"evals":["options.rowCallback"]}</script></p>
<p>Note that the in-degree here corresponds to the number of <em>users</em> having retweeted a particular account, not the number of retweets received (which requires taking into account the weight of each connection).</p>
</div>
<div id="graph" class="section level2">
<h2><span class="header-section-number">2.3</span> Graph</h2>
<p>TODO: Filtered down graph view…</p>
</div>
</div>
<div id="community-level" class="section level1">
<h1><span class="header-section-number">3</span> Community level</h1>
<p>The goal of the analysis tools is to understand the interaction between different network communities. To this end, in each graph layer communities are identified based on structural network properties. For graphs as large as those explored here, few community detection algorithms are sufficiently fast. In the following the “louvain”-method is used (TODO: explain), but others can be substituted too.</p>
<p>Eventually, we want to be able to follow community dynamics on a daily basis. But if we detect communities based on the graph of tweets for a particular day only, then the composition of communities may vary a lot from day to day. This is because an individual’s retweet and mention activity may be related mostly with one particular group of fellow tweeters one day, but a different group another day. However, if we take into account all tweets for the whole period considered, this should give us a more stable picture of which community an individual user generally belongs to. Hence community assignment is based on the graph of all tweets. When later analyzing activity on a per-day basis, instead of re-calculating communities for the smaller day-only network, we simply assign each node that day to the community it belongs to in the “global” graph.</p>
<p>As a first step we can identify what level of modularity the community partitioning has achieved. In the case of the “louvain”-method applied to the retweet layer this is . TODO: explain this measure.</p>
<p>Next we check the number and size of communities identified. There are in total 2080 communities. Their sizes are distributed as follows (only the 50 biggest are shown and ordered by size):</p>
<p><img src="report_files/figure-html/grp_size-1.svg" title="" alt="" style="display: block; margin: auto;" /></p>
<p>On a log-scale this would likely be close to linear (indicating an exponential distribution of community sizes), as there are a few very large communities and a great number of small communities. In the presented form the communities are of little interest. What we’re really interested in is the ideological identity of these communities. We identify them here based on the presence of certain individual accounts in each community. I.e. given a map that assigns certain groups of individuals to their corresponding ideological affiliation, we can represent communities by that affiliation rather than the abstract index in the previous figure. To this end we have simply compiled a list (by hand) of important twitter accounts associated with each political party in Spain. E.g. for the party Podemos, the group of accounts associated with the party itself (<span class="citation">@ahorapodemos</span>), their election candidate (<span class="citation">@Pablo_Iglesias_</span>), and their spokesperson (<span class="citation">@ierrejon</span>) are assigned the affiliation “podemos”; and similarly for all other parties. Having identified these lists of party-related accounts, we can then simply check if each member of a list is also part of a particular twitter community. If that is the case for all members of a list, the community is equated with that party.</p>
<p>While in theory this doesn’t guarantee that all communities, which, remember, are identified solely based on structural network properties, can be uniquely mapped to a party, in practice we found that to be the case. So in the following figure we display again the size of communities, but now with more meaningful identifiers based on political parties:</p>
<p><img src="report_files/figure-html/grp_size_aff-1.svg" title="" alt="" style="display: block; margin: auto;" /></p>
<p>Here, only those communities have been explicitly identified for which we have supplied the manual mapping of party affiliation. The remaining communities are subsumed under the label “unknown”. Also, for efficiency reasons the mapping of community to party is only done for the n largest communities, usually 10, as there can be hundreds to thousands of smaller communities. Those accounts not belonging to the 10 biggest communities are filtered out for the rest of the analysis (there are in total 12.770 of such accounts). We will also omit the group of “unknown” communities from further analysis, as well as remove accounts that end up isolated as the result of filtering out smaller and unknown communities.</p>
<div id="community-coherence-and-interaction" class="section level2">
<h2><span class="header-section-number">3.1</span> Community coherence and interaction</h2>
<p>Apart from the modularity measure given above, we can check how coherent the different communities are by measuring for each community the proportion of edges between members of the same community, and the proportion of edges members share with another community. If a community mostly retweets or mentions other accounts within the same community, then the corresponding value in the diagonal in the following interaction matrix should be large, and the off-diagonal values low:</p>
<p><img src="report_files/figure-html/int_mat_out-1.svg" title="" alt="" style="display: block; margin: auto;" /></p>
<p>Another way to look at the above interactions is to plot a graph in which all nodes belonging to the same community are collapsed into one, with edges between communities being the result of adding up all individual edges between them:</p>
<p><img src="report_files/figure-html/contr_plot_out-1.svg" title="" alt="" style="display: block; margin: auto;" /></p>
<p>Here vertices are colored by their “official” party color, while their size corresponds to their degree and edge width is proportional to the number of tweets between communities.</p>
</div>
<div id="comparison-of-communities" class="section level2">
<h2><span class="header-section-number">3.2</span> Comparison of communities</h2>
<p>We can compare communities by calculating standard structural graph measures for the their subgraphs, i.e. subgraphs constituted by the nodes belonging to a community and all existing edges between them. The following table lists a number of these measure for each community (TODO: short explanation of each):</p>
<p><div id="htmlwidget-4889" style="width:100%;height:auto;" class="datatables"></div>
<script type="application/json" data-for="htmlwidget-4889">{"x":{"data":[["podemos","pp","catalunya","iu","ciudadanos","psoe","animalistas","upyd","vox"],[0.984713093604341,0.963613452105051,0.968644253294258,0.977054596325672,0.981164511043772,0.960730696426822,0.976077940599481,0.931781805780005,0.895810376234067],[0.674441921575635,0.730084348666878,0.678475499582873,0.506708294274176,0.732448569325697,0.724945990631113,0.409389691874367,0.617839404403412,0.739609483713338],[0.803573939284433,0.763818679601627,0.685870815170347,0.735948558539349,0.798497490083037,0.762533848635485,0.713538115185656,0.677521868668009,0.70741947783381],[0.340775570031857,0.283702408761338,0.106056585061139,0.210889403908053,0.476790593503545,0.390791818142256,0.179587496644234,0.14332170837843,0.335817681593969],[0.0233945472709944,0.0249027697721688,0.0101505817565672,0.0092599973672602,0.0261005640416128,0.0420155063283773,0.0125850341414356,0.0522769322590272,0.064580721832419],[0.998943386237132,0.997237823740119,0.997345775451254,0.998845853181532,0.997139943480063,0.995958394102395,0.996228404247105,0.991540266413154,0.986378171502867],[59,65,40,20,83,67,15,23,32],[6.09655874153408e-05,0.000174589691472257,0.000167024265096065,8.3992748188277e-05,0.000221346332088545,0.000234468492853467,0.000175207631566387,0.000857396099181799,0.00248336162510711],[0.0282482434422441,0.0517715387453435,0.0129626939157667,0.029285955165865,0.0532122174925491,0.0704699075325799,0.0464750464750465,0.0696103896103896,0.106674612634088],[0.00401661007823416,0.0207277289912178,0.0163425902681124,0.00453278279193713,0.0209445569393078,0.0268186872248899,0.00809926984342555,0.0933243667612011,0.179776284003781],[67661,31025,27236,25900,25797,19859,8935,3351,2014],[582279,393488,146768,87086,403391,277887,19457,14286,22093],[279097,168046,123894,56341,147297,92465,13986,9625,10068],[2.08629616226617,2.34154933768135,1.18462556701697,1.54569496459062,2.73862332566176,3.00532093224463,1.39117689117689,1.48425974025974,2.19437822804927]],"container":"<table class=\"table table-striped table-hover table-condensed\">\n  <thead>\n    <tr>\n      <th> </th>\n      <th>indeg ineq</th>\n      <th>outdeg ineq</th>\n      <th>pgrank ineq</th>\n      <th>indeg</th>\n      <th>outdeg</th>\n      <th>eigen</th>\n      <th>max core</th>\n      <th>density</th>\n      <th>reciprocity</th>\n      <th>transitivity</th>\n      <th>size</th>\n      <th>weight</th>\n      <th>num edges</th>\n      <th>avg weight</th>\n    </tr>\n  </thead>\n</table>","options":{"info":false,"page_length":10,"paging":false,"autowidth":false,"searching":false,"ordering":false,"lengthChange":false,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nvar d = parseFloat(data[1]); $(this.api().cell(row, 1).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[2]); $(this.api().cell(row, 2).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[3]); $(this.api().cell(row, 3).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[4]); $(this.api().cell(row, 4).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[5]); $(this.api().cell(row, 5).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[6]); $(this.api().cell(row, 6).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[7]); $(this.api().cell(row, 7).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[8]); $(this.api().cell(row, 8).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[9]); $(this.api().cell(row, 9).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[10]); $(this.api().cell(row, 10).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[11]); $(this.api().cell(row, 11).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[12]); $(this.api().cell(row, 12).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[13]); $(this.api().cell(row, 13).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\nvar d = parseFloat(data[14]); $(this.api().cell(row, 14).node()).html(isNaN(d) ? '' : (+d.toFixed(2)).toLocaleString('de-DE'));\n}"},"callback":null,"caption":"<caption>retweet layer's community-wise centralization measures.</caption>","filter":"none","style":"bootstrap"},"evals":["options.rowCallback"]}</script></p>
<p>Next we can pick out interesting community measures by identifying, for example, pairs with greatest spread (i.e. those best separating the communities, as measured by standard deviation), but little correlation (not measuring “the same thing”, small absolute correlation).</p>
<p><div id="htmlwidget-2635" style="width:100%;height:auto;" class="datatables"></div>
<script type="application/json" data-for="htmlwidget-2635">{"x":{"data":[["eigen","reciprocity","avg weight","avg weight","max core","transitivity","avg weight","avg weight","indeg","density"],["indeg","max core","indeg ineq","eigen","outdeg","indeg","transitivity","density","indeg ineq","indeg"],[-0.000870286880272075,-0.00991849484104587,-0.0190062296739628,-0.0308540733473321,0.0320901593604369,0.0502904603394404,0.0589476760981799,0.059753979883525,0.0612937604683064,0.0892004865150149]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th>Measure 1</th>\n      <th>Measure 2</th>\n      <th>Correlation</th>\n    </tr>\n  </thead>\n</table>","options":{"info":false,"page_length":10,"paging":false,"autowidth":false,"searching":false,"ordering":false,"lengthChange":false,"columnDefs":[{"className":"dt-right","targets":2}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nvar d = parseFloat(data[2]); $(this.api().cell(row, 2).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\n}"},"callback":null,"caption":"<caption>10 measurement pairs with lowest absolute correlation</caption>","filter":"none","style":"bootstrap"},"evals":["options.rowCallback"]}</script><div id="htmlwidget-9468" style="width:100%;height:auto;" class="datatables"></div>
<script type="application/json" data-for="htmlwidget-9468">{"x":{"data":[[0.0299502472856895],[0.179513240550008],[0.0626493415284606],[0.449117721296911],[0.662057003443752],[0.00407714776919508],[0.541506716547697],[1.57946386199712],[0.537840263944671],[1.40601525107788],[0.839904612080776],[0.957188434875736],[0.901472201493785],[0.318001651713278]],"container":"<table class=\"table table-striped table-hover\">\n  <thead>\n    <tr>\n      <th>indeg ineq</th>\n      <th>outdeg ineq</th>\n      <th>pgrank ineq</th>\n      <th>indeg</th>\n      <th>outdeg</th>\n      <th>eigen</th>\n      <th>max core</th>\n      <th>density</th>\n      <th>reciprocity</th>\n      <th>transitivity</th>\n      <th>size</th>\n      <th>weight</th>\n      <th>num edges</th>\n      <th>avg weight</th>\n    </tr>\n  </thead>\n</table>","options":{"info":false,"page_length":2,"paging":false,"autowidth":true,"searching":false,"ordering":false,"lengthChange":false,"columnDefs":[{"className":"dt-right","targets":[0,1,2,3,4,5,6,7,8,9,10,11,12,13]}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nvar d = parseFloat(data[0]); $(this.api().cell(row, 0).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[1]); $(this.api().cell(row, 1).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[2]); $(this.api().cell(row, 2).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[3]); $(this.api().cell(row, 3).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[4]); $(this.api().cell(row, 4).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[5]); $(this.api().cell(row, 5).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[6]); $(this.api().cell(row, 6).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[7]); $(this.api().cell(row, 7).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[8]); $(this.api().cell(row, 8).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[9]); $(this.api().cell(row, 9).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[10]); $(this.api().cell(row, 10).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[11]); $(this.api().cell(row, 11).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[12]); $(this.api().cell(row, 12).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\nvar d = parseFloat(data[13]); $(this.api().cell(row, 13).node()).html(isNaN(d) ? '' : (+d.toFixed(3)).toLocaleString('de-DE'));\n}"},"callback":null,"caption":"<caption>Coefficient of variation (sd/mean)</caption>","filter":"none","style":"bootstrap"},"evals":["options.rowCallback"]}</script></p>
<p>The following two plots indicate parties along pairs of measures (from the tables above), that show low correlation but large spread. Note however, that some measures may be related to the size of the community, and since sizes are substantially different, might not be easily comparable:</p>
<p><img src="report_files/figure-html/pairplot-1.svg" title="" alt="" style="display: block; margin: auto;" /></p>
</div>
<div id="graph-1" class="section level2">
<h2><span class="header-section-number">3.3</span> Graph</h2>
<p>We can also plot a filtered version of the complete graph. Here, for example, is the graph with edges removed that have weights smaller than 6, and then nodes with degree smaller than 3. Nodes are coloured by political party, and a layout is used to place nodes that explicitly separates the communities.</p>
<p><img src="report_files/figure-html/com_graph_out-1.svg" title="" alt="" style="display: block; margin: auto;" /></p>
<!---acts = important_actors_by_com(g, topn=10, centrality=centr, grp_by="aff")
centr = "indeg"
plot_important_actors(acts, centr)-->
</div>
</div>
<div id="hashtag-level" class="section level1">
<h1><span class="header-section-number">4</span> Hashtag level</h1>
<p><img src="report_files/figure-html/freq_graph_out-1.svg" title="" alt="" style="display: block; margin: auto;" /></p>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
